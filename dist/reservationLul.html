<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <title>Reservation</title>
  <link rel="stylesheet" href="css/style.css">

</head>
<body onload="renseignerVille()">
        <header>
                <h1>A&L - Agence de voyage</h1>
                <nav>
                        <ul>
                            <li><a href="index.html">Les destinations</a></li>
                            <li><a href="#">Réservation</a></li>
                            <li><a href="#">A propos & Contact</a></li>
                        </ul>
                </nav>
                <h2>Nos destinations</h2>
            </header>

  <form action="#" onsubmit="return Prix(this);">
<<<<<<< HEAD
  Ville : <select  id="ville">
   <option value=39>Paris</option>
   <option value=42>Londres</option>
   <option value=51>Madrid</option>
   <option value=25>Rome</option>
   <option value=38>New-York</option>
   <option value=2>Le Cap</option>
=======
  Ville : <select name="ville" id="ville">
   <option value="paris">Paris</option>
   <option value="london">Londres</option>
   <option value="madrid">Madrid</option>
   <option value="rome">Rome</option>
   <option value="NY">New-York</option>
   <option value="lecap">Le Cap</option>
>>>>>>> 7f5dcea5b1cc3b1d3e2410bd322e5ed0c6bd6041
	</select>
   </input><br>
  Nom : <input type="text" id="nom"><br>
  Prénom : <input type="text" id="prenom"><br>
  Mail : <input type="email" id="mail"><br>
  Téléphone : <input type="tel" id="tel"><br>
  Date de départ : <input type="date" id="dateDeb"><br>
  Date de retour : <input type="date" id="dateFin"><br>
  Nombre d'adultes : <input type="number" id="nbrAd"><br>
  Nombre d'enfants (-12) : <input type="number" id="nbrEn"><br>
  Petit-déjeuner : <input type="checkbox" id="dej" ><br>
  Questions : <input type="text" id="quest"><br>
  <input type="submit" value="Submit">
</form>

<footer>
        <h3>TLI - Lucas CLEMENTEI & Alexandre GUILLON</h3>
        <h3>Contact : <a href="mailto:alexandre.guillon@cpe.fr">
                        alexandre.guillon@cpe.fr</a> / 
                        <a href="mailto:lucas.clementei@cpe.fr">
                                lucas.clementei@cpe.fr</a>
        </h3>
        <br />
</footer> 

<script type="text/javascript">
   function Prix(formulaire) { // Fonction appelée par le bouton
   	var prix = document.getElementById("ville").value;
   	var nom = document.getElementById("nom").value;
   	var prenom = document.getElementById("prenom").value;
   	var mail = document.getElementById("mail").value;
   	var telephone = document.getElementById("tel").value;
   	var dateDeb = new Date(document.getElementById("dateDeb").value);
   	var dateFin = new Date(document.getElementById("dateFin").value);
   	var nbrAd = document.getElementById("nbrAd").value;
   	var nbrEn = document.getElementById("nbrEn").value;
   	var dej = document.getElementById("dej").value;
   	var question = document.getElementById("quest").value;
    var diff = Math.abs(dateFin - dateDeb) / 1000;
    var dateDiff = Math.floor(diff / 86400);


	if(document.getElementById("dej").checked == true){
		var prixTotal = (prix*nbrAd*dateDiff)+(prix*nbrEn*dateDiff)*0.4+(nbrEn+nbrAd)*8;
		var string = "Le total etc... avec balise avec document.write()";
	}
	else{
	var prixTotal = (prix*nbrAd*dateDiff)+(prix*nbrEn*dateDiff)*0.4;
	var string = "Le total etc... avec balise";
	}	

   }
   function renseignerVille(){ //Permet de regarder si l'utilisateur est passé par la page d'accueil ou pas pour "pré-remplir" le formulaire
   	var ville = new URLSearchParams(window.location.search).get('ville');
   	console.log(ville);
   	switch (ville) {
  		case 'Paris':
  			document.getElementById("ville").selectedIndex = "0";
    		break;
  		case 'Londres':
  			document.getElementById("ville").selectedIndex= "1";
  			break;
  		case 'Madrid':
   			document.getElementById("ville").selectedIndex= "2";
    		break;
  		case 'Rome':
   			document.getElementById("ville").selectedIndex="3";
    		break; 
  		case 'New-York':
   			document.getElementById("ville").selectedIndex="4";
    		break; 
  		case 'Le Cap':
   			document.getElementById("ville").selectedIndex="5";
    		break;    		
  		default:
  			document.getElementById("ville").selectedIndex= "0";
    		break;
}
   }
</script>
</body>
</html>