<!DOCTYPE html>
    <html lang="fr">

    <head>
        <meta charset="UTF-8">
        <title>A&L - Agence de voyage</title>
        <link rel="stylesheet" href="css/style.css">
        <script type="text/javascript" src="js/se_connecter.js"></script>
    </head>

    <body>
        <header>
            <h1>A&L - Agence de voyage</h1>
            <nav>
                    <ul>
                        <li><a href="index.html">Les destinations</a></li>
                        <li><a href="reservation.html">Réservation</a></li>
                        <li><a href="contact.html">A propos & Contact</a></li>
                        <li><button id="connexion">Se connecter</button></li>
                        <li id="is_connect">Vous n'êtes pas authentifié</li>
                    </ul>
            </nav>
            <h2>Nos destinations</h2>
        </header>
    
        <div id="searchDiv">
            <form style="background-color:rgb(129, 24, 24)">
                <label for="price">Prix maximum</label>
                <input type="range" id="price" name="price" min="1" max="60" step="1" value="60" oninput="r.value=parseInt(price.value)"/>
                <output name="r">--</output><br />
                <label for="child">Enfants acceptés</label>
                <input type="range" id="child" name="child" min="0" max="10" step="1" value="0" oninput="r2.value=parseInt(child.value)"/>
                <output name="r2">--</output><br />
                <label for="date">Disponibilité</label>
                <input type="checkbox" id="date" name="date"><br />
                <label for="breakfast">Petit déjeuner</label>
                <input type="checkbox" id="breakfast" name="breakfast" value="breakfast"><br />
                <input type="button" value="Filtrer" id="filter"/>
            </form>
        </div>
        </div>
            <ul id="destination">
                <li id="paris">
                    <img src="img/paris.jpg" alt="Bonsoir Pariiiiiiiis"/>
                    <h2><a href="reservation.html?ville=Paris">Paris</a></h2>
                    <h3>3 jours de rêves dans la capitale française</h3>
                    <p>Prix : 39 euros (par adulte et par jour)</p>
                </li>
                <li id="londres">
                    <img src="img/londres.jpg" alt="Hello Londooooooon" />
                    <h2><a href="reservation.html?ville=Londres">Londres</a></h2>
                    <h3>British journey !</h3>
                    <p>Prix : 42 euros (par adulte et par jour)</p>
                </li>
                <li id="madrid">
                    <img src="img/madrid.jpg" alt="Hola Madriiiiiid" />
                    <h2><a href="reservation.html?ville=Madrid">Madrid</a></h2>
                    <h3>1 semaine all inclusive à Madrid</h3>
                    <p>Prix : 51 euros (par adulte et par jour)</p>
                </li>
                <li id="rome">
                    <img src="img/rome.jpg" alt="Buonasera Romaaaaaa" />
                    <h2><a href="reservation.html?ville=Rome">Rome</a></h2>
                    <h3>1 stage Pizza dans une pizzeria 5 étoiles</h3>
                    <p>Prix : 25 euros (par adulte et par jour)</p>
                </li>
                <li id="ny">
                        <img src="img/new-york.jpg" alt="Hello New-Yoooooork" />
                        <h2><a href="reservation.html?ville=New-York">New-York</a></h2>
                        <h3>American Dream</h3>
                        <p>Prix : 38 euros (par adulte et par jour)</p>
                </li>
                <li id="lecap">
                        <img src="img/ads.jpg" alt="Hallo le caaaaaaaap"/>
                        <h2><a href="reservation.html?ville=Le Cap">Le Cap</a></h2>
                        <h3>L'Afrique du Sud à petit prix</h3>
                        <p>Prix : 2 euros (par adulte et par jour)</p>
                </li>
            </ul>

            <footer>
                    <h3>TLI - Lucas CLEMENTEI & Alexandre GUILLON</h3>
                    <h3>Contact : <a href="mailto:alexandre.guillon@cpe.fr">
                                    alexandre.guillon@cpe.fr</a> / 
                                    <a href="mailto:lucas.clementei@cpe.fr">
                                            lucas.clementei@cpe.fr</a>
                    </h3>
                    <br />
            </footer> 
    </body>
    <script src="js/object-creation.js"></script>
    <script>
        var btn = document.getElementById("filter");
        btn.onclick = function(){
            trips.forEach(function(trip) {
                trip.htmlName.style.display = "inline-block";
            });
            var priceFilter = document.getElementById("price").value;
            var childFilter = document.getElementById("child").value;
            var availabilityFilter = document.getElementById("date").checked;
            var breakfastFilter = document.getElementById("breakfast").checked;

            var selectedTrips = []; 
            trips.forEach(function(trip) {
                if(trip.price > priceFilter){
                    selectedTrips.push(trip);
                }
                if(trip.child < childFilter){
                    selectedTrips.push(trip);
                }
                if(availabilityFilter && trip.availability==false){
                    selectedTrips.push(trip);
                }
                if(breakfastFilter && trip.breakfast==false){
                    selectedTrips.push(trip);
                }
            });
            selectedTrips.forEach(function(selectedTrip) {
                selectedTrip.htmlName.style.display = "none";
            });
            
        };
        document.getElementById("connexion").onclick = function () {
        location.href = "connexion.html";
    };
    document.addEventListener("DOMContentLoaded", function(event) {
    if(sessionStorage.getItem('identifiant') !== null)
    {
        document.getElementById("is_connect").innerText = "Bonjour "+sessionStorage.getItem('nom');
    }

 
});
    
    </script>
    </html>